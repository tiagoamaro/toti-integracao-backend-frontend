<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ler uma tarefa</title>
</head>
<body>
    <h1>Ler uma tarefa</h1>

    <label>
        ID da tarefa
        <input type="text" name="id">
    </label>
    <button id="search">Buscar</button>
    
    <main>
    </main>

    <hr>
    <a href="./index.html">Voltar</a>

    <script>
        const searchButton = document.querySelector("#search")
        const idInput = document.querySelector("input[name='id']")
        const main = document.querySelector("main")
        const taskPath = "http://localhost:3000/tasks/:id"

        searchButton.addEventListener("click", () => {
            const path = taskPath.replace(":id", idInput.value)

            fetch(path)
              .then(response => response.json())
              .then(result => {
                  const task = result.task

                  if (task) {
                    main.textContent = task.description
                  } else {
                    main.textContent = "Tarefa nÃ£o encontrada"
                  }
              })
        })
    </script>
</body>
</html>